@import (reference) "../styles/variables.less";

.progress-bar {
  @height: 0.5em;
  box-sizing: border-box;
  height: @height;
  background-color: fade(black, 5%);
  border-radius: @height / 2;
  box-shadow: inset 0 0 0 1px fade(black, 10%);
  width: 100%;
  position: relative;

  .progress-bar-fill {
    position: absolute;
    box-sizing: border-box;
    background-color: @blue;
    left: 0;
    top: 0;
    height: 100%;
    box-shadow: inherit;
    border-radius: inherit;
    width: 0;
    transition: width 0.3s ease-in-out;
  }

  &.animate {
    @centerwidth: 40%;
    @edgewidth: 20%;
    @duration: 0.6s;

    .progress-bar-fill {
      width: 40%;
      transition: none;
      animation-name: animate-progress-bar;
      animation-duration: @duration;
      animation-timing-function: linear; //cubic-bezier(0.7, 0.4, 0.4, 0.7);
      animation-iteration-count: infinite;
      animation-direction: alternate;
    }

    @keyframes animate-progress-bar {
      0% {
        left: 0%;
        width: @edgewidth;
      }
      5% {
        left: 0%;
        width: @edgewidth;
      }
      20% {
        left: 0%;
        width: @centerwidth;
      }
      50% {
        left: (100% - @centerwidth) / 2;
        width: @centerwidth;
      }
      80% {
        left: (100% - @centerwidth);
        width: @centerwidth;
      }
      95% {
        left: 100% - @edgewidth;
        width: @edgewidth;
      }
      100% {
        left: 100% - @edgewidth;
        width: @edgewidth;
      }
    }
    @keyframes animate-progress-bar1 {
      0% {
        left: 0%;
        width: 20%;
      }
      15% {
        left: 0%;
        width: 40%;
      }
      35% {
        left: 60%;
        width: 40%;
      }
      50% {
        left: 80%;
        width: 20%;
      }
      65% {
        left: 60%;
        width: 40%;
      }
      85% {
        left: 0%;
        width: 40%;
      }
      100% {
        left: 0%;
        width: 20%;
      }
    }
  }
}
